Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),Array.isArray||(Array.isArray=function(){return function(a){return"[object Array]"===Object.prototype.toString.call(a)}}()),function(a,b,c){if((!a.addEventListener||!a.removeEventListener)&&a.attachEvent&&a.detachEvent){var d=function(a){return"function"==typeof a},e=function(a,b){var d=b[c];if(d)for(var e,f=d.length;f--;)if(e=d[f],e[0]===a)return e[1]},f=function(a,b,d){var f=b[c]||(b[c]=[]);return e(a,b)||(f[f.length]=[a,d],d)},g=function(a){var c=b[a];b[a]=function(a){return j(c(a))}},h=function(c,e,g){if(d(e)){var h=this;h.attachEvent("on"+c,f(h,e,function(c){c=c||a.event,c.preventDefault=c.preventDefault||function(){c.returnValue=!1},c.stopPropagation=c.stopPropagation||function(){c.cancelBubble=!0},c.target=c.target||c.srcElement||b.documentElement,c.currentTarget=c.currentTarget||h,c.timeStamp=c.timeStamp||(new Date).getTime(),e.call(h,c)}))}},i=function(a,b,c){if(d(b)){var f=this,g=e(f,b);g&&f.detachEvent("on"+a,g)}},j=function(a){var b=a.length;if(b)for(;b--;)a[b].addEventListener=h,a[b].removeEventListener=i;else a.addEventListener=h,a.removeEventListener=i;return a};if(j([b,a]),"Element"in a){var k=a.Element;k.prototype.addEventListener=h,k.prototype.removeEventListener=i}else b.attachEvent("onreadystatechange",function(){j(b.all)}),g("getElementsByTagName"),g("getElementById"),g("createElement"),j(b.all)}}(window,document,"x-ms-event-listeners");var bnet=bnet||{};bnet.sc2=bnet.sc2||{},bnet.sc2.lotv=function(a,b,c,d,e,f,g){"use strict";function h(){var a=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");return null!=a.exec(navigator.userAgent)?parseFloat(RegExp.$1)>=11:0}function i(a){return k.test(navigator.userAgent)||d.innerWidth<981&&!a}function j(a,b){function c(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return a.charAt(Math.floor(Math.random()*a.length))}function e(){return Math.floor(10*Math.random())<=5}function g(a,b){var c=b.data("decrypt");f.each(c,function(a,b){/change/.test(a)?c[a]=d.clearInterval(b):c[a]=d.clearTimeout(b)}),b.toggleClass("animating protoss",!1).replaceWith(i.text.charAt(a)).data({released:1})}function h(a,b){function f(){return d.setTimeout(function(){g(a,b)},a*i.options.staggerTime+i.options.decryptTime)}function h(){return d.setInterval(function(){b.text(c()).toggleClass("protoss",e())},i.options.letterChangeInterval)}function j(){return d.setTimeout(function(){b.toggleClass("animating",!0),k.change=h()},a*i.options.staggerTime)}var k={};k.begin=j(),k.complete=f(),b.data({decrypt:k,released:0}).toggleClass("protoss",!0)}var i=this;this.animating=0,this.characters=[],this.options={staggerTime:250,decryptTime:1500,letterChangeInterval:100},this.templates={character:function(a){return f("<span/>",{addClass:"protoss",html:a})}},this.addTemplates=function(a){f.extend(i.templates,a)},this.addOptions=function(a){f.extend(i.options,a)},this.start=function(){i.animating||(i.animating=1,a.toggleClass("decrypting",!0).trigger("decrypt.begin"),i.animateStopTimeout=d.setTimeout(function(){i.stop()},i.text.length*i.options.staggerTime+i.options.decryptTime),f.each(i.characters,function(a,b){h(a,b)}),a.html(i.characters))},this.stop=function(){f.each(i.characters,function(a,b){b.data("released")||g(a,b)}),i.animateStopTimeout&&(i.animateStopTimeout=d.clearTimeout(i.animateStopTimeout)),i.animating&&(a.toggleClass("decrypting",!1).trigger("decrypt.complete"),a.html(i.text)),i.animating=0}}c.mediaQueries={"MQ-lt-640":"(max-width: 640px)","MQ-gt-320":"(min-width: 321px)","MQ-gt-480":"(min-width: 481px)","MQ-gt-640":"(min-width: 641px)","MQ-gt-980":"(min-width: 981px)","MQ-gt-1024":"(min-width: 1025px)","MQ-gt-1200":"(min-width: 1201px)","MQ-gt-1280":"(min-width: 1281px)","MQ-gt-1440":"(min-width: 1441px)","MQ-gt-1680":"(min-width: 1681px)","MQ-gt-1920":"(min-width: 1921px)","MQ-981-1680":"(min-width: 981px) and (max-width: 1680px)"},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),h()&&f("html").addClass("ie ie11");var k=/Android|webOS|iPhone|iPad|iPod|BlackBerry|PlayBook|IEMobile|Opera Mini|Mobi/i;if(i(!0)){var l=navigator.userAgent.match(k)[0].toLowerCase();f("html").addClass("mobile "+l)}return function(a,b,c){function d(){var b=/Android|webOS|iPhone|iPad|iPod|BlackBerry|PlayBook|IEMobile|Opera Mini|Mobi/i;return b.test(a.navigator.userAgent)||a.innerWidth<981}function e(){function d(){j=1,i=0,e.reject(),c.event.trigger("iFrameAPIError")}var e=c.Deferred(),f=b.createElement("script");return c(b).on("iFrameAPIReady",function(){e.resolve()}),i=1,a.onYouTubeIframeAPIReady=function(){c.event.trigger("iFrameAPIReady"),h=1,i=0},f.onerror=function(){d()},f.onload=function(){setTimeout(function(){h||YT&&YT.Player||d()},500)},f.async=!0,f.src="http://www.youtube.com/iframe_api",b.body.appendChild(f),e.promise()}function f(){var a=c.Deferred();return h?a.resolve():j?a.reject():!h&&i?(c(b).one("iFrameAPIReady",function(){a.resolve()}),c(b).one("iFrameAPIError",function(){a.reject()})):e().done(function(){a.resolve()}).fail(function(){a.reject()}),a.promise()}function g(b,e,g,h,i){function j(a,b){return["http://www.youtube.com/embed/",a,"?",g,c.param(b)].join("")}function k(a){n.loading=1,f().done(function(c){n.player=new YT.Player(n.$video[0],{events:{onReady:function(c){n.loaded=1,n.loading=0,b.trigger("player.ready",c),a&&a.resolve(n)},onError:function(a){n.loading=0,n.error=1,b.trigger("player.error"),b.toggleClass("error",!0)},onStateChange:function(a){n.state&&b.toggleClass(n.states[n.state],!1),b.toggleClass(n.states[a.data],!0),n.state=a.data}}})}).fail(function(c){n.loading=0,n.error=1,b.toggleClass("error",!0),b.trigger("player.error"),a&&a.reject("Youtube iframe api failed to load",c)})}function l(a){"undefined"!=typeof n.states[n.state]&&b.toggleClass(n.states[n.state],!1),n.player.stopVideo(),n.player.clearVideo(),n.player.destroy(),n.$video=null,n.player=null,n.state=null,a&&a.resolve(),b.trigger("player.destroyed")}function m(){n.loading=1;var a={id:e},f={$play:n.templates.play,$poster:n.templates.poster,$video:n.templates.video};h&&h.templates&&n.addTemplates(h.templates),h&&h.params&&c.extend(n.params,h.params),h&&h.init&&c.extend(a,h.init),c.each(a,function(a,b){n[a]="function"==typeof b?b.apply(n):b}),h&&h.build&&c.extend(f,h.build);var g=[];c.each(f,function(a,b){b&&g.push(n[a]="function"==typeof b?b.apply(n):b)}),b.append(g).toggleClass("mobile",d()),k(i)}var n=this;this.loaded=0,this.loading=0,this.error=0,this.states={"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"video-cued"},this.params={autoplay:0,autohide:1,controls:1,modestbranding:1,showinfo:0,version:3,enablejsapi:1,wmode:"transparent",origin:a.location.origin,rel:0},this.templates={play:function(){return c("<div/>",{addClass:"play",on:{click:function(){n.player.playVideo()}}})},poster:function(){return c("<div/>",{addClass:"poster"})},video:function(){return c("<iframe/>",{addClass:"video",attr:{width:"100%",height:"100%",allowfullscreen:"true",frameBorder:0,src:j(e,n.params)}})}};var o=null,p=null;this.createPlayer=function(){var a=c.Deferred();return p?p.done(function(){n.createPlayer().done(function(){a.resolve()})}):n.$video||n.player?a.resolve():o?o.done(function(){a.resolve()}):(o=a,n.$video=n.templates.video(),n.$video.appendTo(b),k(a)),a.done(function(){o=null}),a.promise()},this.destroyPlayer=function(){var a=c.Deferred();return o?o.done(function(){n.destroyPlayer().done(function(){a.resolve()})}):n.$video&&n.player?p?p.done(function(){a.resolve()}):(p=a,l(a)):a.resolve(),a.done(function(){p=null}),a.promise()},this.addTemplates=function(a){c.extend(n.templates,a)},m()}var h=0,i=0,j=0;c.fn.extend({video:function(a){var b=c.Deferred(),d=this.data("video"),e="";if(this.data("playlist")&&(e="list="+this.data("playlist")+"&amp;"),d&&"string"!==c.type(d))d&&d.loaded?b.resolve(d):d&&d.error?b.reject(d):d&&d.loading&&!d.loaded&&this.one("player.ready",function(){b.resolve(d)});else{var f=a&&a.id?a.id:d;this.data({video:d=new g(this,f,e,a,b)})}return b.promise()}})}(d,d.document,d.jQuery),f.fn.extend({decrypt:function(a){var b=this.data("decrypt");return b||this.data({decrypt:b=new j(this,a)}),b}}),f(".header [data-video]").video().done(function(a){f(".header [data-video] .watch-trailer").click(function(b){b.preventDefault(),a.player.playVideo()})}),c}(bnet||{},bnet.sc2||{},bnet.sc2.lotv||{},window,document,jQuery),!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(k(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a}function i(a,b){return h(a,b,!0)}function j(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&h(d,c)}function k(a,b){return function(){return a.apply(b,arguments)}}function l(a,b){return typeof a==ka?a.apply(b?b[0]||d:d,b):a}function m(a,b){return a===d?b:a}function n(a,b,c){g(r(b),function(b){a.addEventListener(b,c,!1)})}function o(a,b,c){g(r(b),function(b){a.removeEventListener(b,c,!1)})}function p(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function q(a,b){return a.indexOf(b)>-1}function r(a){return a.trim().split(/\s+/g)}function s(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function t(a){return Array.prototype.slice.call(a,0)}function u(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];s(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function v(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ia.length;){if(c=ia[g],e=c?c+f:b,e in a)return e;g++}return d}function w(){return oa++}function x(a){var b=a.ownerDocument;return b.defaultView||b.parentWindow}function y(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){l(a.options.enable,[a])&&c.handler(b)},this.init()}function z(a){var b,c=a.options.inputClass;return new(b=c?c:ra?N:sa?Q:qa?S:M)(a,A)}function A(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&ya&&d-e===0,g=b&(Aa|Ba)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,B(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function B(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=E(b)),e>1&&!c.firstMultiple?c.firstMultiple=E(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=F(d);b.timeStamp=na(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=J(h,i),b.distance=I(h,i),C(c,b),b.offsetDirection=H(b.deltaX,b.deltaY),b.scale=g?L(g.pointers,d):1,b.rotation=g?K(g.pointers,d):0,D(c,b);var j=a.element;p(b.srcEvent.target,j)&&(j=b.srcEvent.target),b.target=j}function C(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};(b.eventType===ya||f.eventType===Aa)&&(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function D(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ba&&(i>xa||h.velocity===d)){var j=h.deltaX-b.deltaX,k=h.deltaY-b.deltaY,l=G(i,j,k);e=l.x,f=l.y,c=ma(l.x)>ma(l.y)?l.x:l.y,g=H(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function E(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:la(a.pointers[c].clientX),clientY:la(a.pointers[c].clientY)},c++;return{timeStamp:na(),pointers:b,center:F(b),deltaX:a.deltaX,deltaY:a.deltaY}}function F(a){var b=a.length;if(1===b)return{x:la(a[0].clientX),y:la(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:la(c/b),y:la(d/b)}}function G(a,b,c){return{x:b/a||0,y:c/a||0}}function H(a,b){return a===b?Ca:ma(a)>=ma(b)?a>0?Da:Ea:b>0?Fa:Ga}function I(a,b,c){c||(c=Ka);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function J(a,b,c){c||(c=Ka);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function K(a,b){return J(b[1],b[0],La)-J(a[1],a[0],La)}function L(a,b){return I(b[0],b[1],La)/I(a[0],a[1],La)}function M(){this.evEl=Na,this.evWin=Oa,this.allow=!0,this.pressed=!1,y.apply(this,arguments)}function N(){this.evEl=Ra,this.evWin=Sa,y.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function O(){this.evTarget=Ua,this.evWin=Va,this.started=!1,y.apply(this,arguments)}function P(a,b){var c=t(a.touches),d=t(a.changedTouches);return b&(Aa|Ba)&&(c=u(c.concat(d),"identifier",!0)),[c,d]}function Q(){this.evTarget=Xa,this.targetIds={},y.apply(this,arguments)}function R(a,b){var c=t(a.touches),d=this.targetIds;if(b&(ya|za)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=t(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return p(a.target,i)}),b===ya)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Aa|Ba)&&delete d[g[e].identifier],e++;return h.length?[u(f.concat(h),"identifier",!0),h]:void 0}function S(){y.apply(this,arguments);var a=k(this.handler,this);this.touch=new Q(this.manager,a),this.mouse=new M(this.manager,a)}function T(a,b){this.manager=a,this.set(b)}function U(a){if(q(a,bb))return bb;var b=q(a,cb),c=q(a,db);return b&&c?cb+" "+db:b||c?b?cb:db:q(a,ab)?ab:_a}function V(a){this.id=w(),this.manager=null,this.options=i(a||{},this.defaults),this.options.enable=m(this.options.enable,!0),this.state=eb,this.simultaneous={},this.requireFail=[]}function W(a){return a&jb?"cancel":a&hb?"end":a&gb?"move":a&fb?"start":""}function X(a){return a==Ga?"down":a==Fa?"up":a==Da?"left":a==Ea?"right":""}function Y(a,b){var c=b.manager;return c?c.get(a):a}function Z(){V.apply(this,arguments)}function $(){Z.apply(this,arguments),this.pX=null,this.pY=null}function _(){Z.apply(this,arguments)}function aa(){V.apply(this,arguments),this._timer=null,this._input=null}function ba(){Z.apply(this,arguments)}function ca(){Z.apply(this,arguments)}function da(){V.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ea(a,b){return b=b||{},b.recognizers=m(b.recognizers,ea.defaults.preset),new fa(a,b)}function fa(a,b){b=b||{},this.options=i(b,ea.defaults),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=z(this),this.touchAction=new T(this,this.options.touchAction),ga(this,!0),g(b.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ga(a,b){var c=a.element;g(a.options.cssProps,function(a,d){c.style[v(c.style,d)]=b?a:""})}function ha(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var ia=["","webkit","moz","MS","ms","o"],ja=b.createElement("div"),ka="function",la=Math.round,ma=Math.abs,na=Date.now,oa=1,pa=/mobile|tablet|ip(ad|hone|od)|android/i,qa="ontouchstart"in a,ra=v(a,"PointerEvent")!==d,sa=qa&&pa.test(navigator.userAgent),ta="touch",ua="pen",va="mouse",wa="kinect",xa=25,ya=1,za=2,Aa=4,Ba=8,Ca=1,Da=2,Ea=4,Fa=8,Ga=16,Ha=Da|Ea,Ia=Fa|Ga,Ja=Ha|Ia,Ka=["x","y"],La=["clientX","clientY"];y.prototype={handler:function(){},init:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&o(this.element,this.evEl,this.domHandler),this.evTarget&&o(this.target,this.evTarget,this.domHandler),this.evWin&&o(x(this.element),this.evWin,this.domHandler)}};var Ma={mousedown:ya,mousemove:za,mouseup:Aa},Na="mousedown",Oa="mousemove mouseup";j(M,y,{handler:function(a){var b=Ma[a.type];b&ya&&0===a.button&&(this.pressed=!0),b&za&&1!==a.which&&(b=Aa),this.pressed&&this.allow&&(b&Aa&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:va,srcEvent:a}))}});var Pa={pointerdown:ya,pointermove:za,pointerup:Aa,pointercancel:Ba,pointerout:Ba},Qa={2:ta,3:ua,4:va,5:wa},Ra="pointerdown",Sa="pointermove pointerup pointercancel";a.MSPointerEvent&&(Ra="MSPointerDown",Sa="MSPointerMove MSPointerUp MSPointerCancel"),j(N,y,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Pa[d],f=Qa[a.pointerType]||a.pointerType,g=f==ta,h=s(b,a.pointerId,"pointerId");e&ya&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Aa|Ba)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Ta={touchstart:ya,touchmove:za,touchend:Aa,touchcancel:Ba},Ua="touchstart",Va="touchstart touchmove touchend touchcancel";j(O,y,{handler:function(a){var b=Ta[a.type];if(b===ya&&(this.started=!0),this.started){var c=P.call(this,a,b);b&(Aa|Ba)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:ta,srcEvent:a})}}});var Wa={touchstart:ya,touchmove:za,touchend:Aa,touchcancel:Ba},Xa="touchstart touchmove touchend touchcancel";j(Q,y,{handler:function(a){var b=Wa[a.type],c=R.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:ta,srcEvent:a})}}),j(S,y,{handler:function(a,b,c){var d=c.pointerType==ta,e=c.pointerType==va;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(Aa|Ba)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ya=v(ja.style,"touchAction"),Za=Ya!==d,$a="compute",_a="auto",ab="manipulation",bb="none",cb="pan-x",db="pan-y";T.prototype={set:function(a){a==$a&&(a=this.compute()),Za&&(this.manager.element.style[Ya]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){l(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),U(a.join(" "))},preventDefaults:function(a){if(!Za){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=q(d,bb),f=q(d,db),g=q(d,cb);return e||f&&c&Ha||g&&c&Ia?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var eb=1,fb=2,gb=4,hb=8,ib=hb,jb=16,kb=32;V.prototype={defaults:{},set:function(a){return h(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=Y(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=Y(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=Y(a,this),-1===s(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=Y(a,this);var b=s(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(c.options.event+(b?W(d):""),a)}var c=this,d=this.state;hb>d&&b(!0),b(),d>=hb&&b(!0)},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=kb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(kb|eb)))return!1;a++}return!0},recognize:function(a){var b=h({},a);return l(this.options.enable,[this,b])?(this.state&(ib|jb|kb)&&(this.state=eb),this.state=this.process(b),void(this.state&(fb|gb|hb|jb)&&this.tryEmit(b))):(this.reset(),void(this.state=kb))},process:function(){},getTouchAction:function(){},reset:function(){}},j(Z,V,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(fb|gb),e=this.attrTest(a);return d&&(c&Ba||!e)?b|jb:d||e?c&Aa?b|hb:b&fb?b|gb:fb:kb}}),j($,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ja},getTouchAction:function(){var a=this.options.direction,b=[];return a&Ha&&b.push(db),a&Ia&&b.push(cb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Ha?(e=0===f?Ca:0>f?Da:Ea,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ca:0>g?Fa:Ga,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return Z.prototype.attrTest.call(this,a)&&(this.state&fb||!(this.state&fb)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this._super.emit.call(this,a)}}),j(_,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[bb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&fb)},emit:function(a){if(this._super.emit.call(this,a),1!==a.scale){var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}}),j(aa,V,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[_a]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Aa|Ba)&&!f)this.reset();else if(a.eventType&ya)this.reset(),this._timer=e(function(){this.state=ib,this.tryEmit()},b.time,this);else if(a.eventType&Aa)return ib;return kb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===ib&&(a&&a.eventType&Aa?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=na(),this.manager.emit(this.options.event,this._input)))}}),j(ba,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[bb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&fb)}}),j(ca,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Ha|Ia,pointers:1},getTouchAction:function(){return $.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Ha|Ia)?b=a.velocity:c&Ha?b=a.velocityX:c&Ia&&(b=a.velocityY),this._super.attrTest.call(this,a)&&c&a.direction&&a.distance>this.options.threshold&&ma(b)>this.options.velocity&&a.eventType&Aa},emit:function(a){var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),j(da,V,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ab]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&ya&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Aa)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||I(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=ib,this.tryEmit()},b.interval,this),fb):ib}return kb},failTimeout:function(){return this._timer=e(function(){this.state=kb},this.options.interval,this),kb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ib&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ea.VERSION="2.0.4",ea.defaults={domEvents:!1,touchAction:$a,enable:!0,inputTarget:null,inputClass:null,preset:[[ba,{enable:!1}],[_,{enable:!1},["rotate"]],[ca,{direction:Ha}],[$,{direction:Ha},["swipe"]],[da],[da,{event:"doubletap",taps:2},["tap"]],[aa]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var lb=1,mb=2;fa.prototype={set:function(a){return h(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?mb:lb},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&ib)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===mb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(fb|gb|hb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof V)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;var b=this.recognizers;return a=this.get(a),b.splice(s(b,a),1),this.touchAction.update(),this},on:function(a,b){var c=this.handlers;return g(r(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return g(r(a),function(a){b?c[a].splice(s(c[a],b),1):delete c[a]}),this},emit:function(a,b){this.options.domEvents&&ha(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ga(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(ea,{INPUT_START:ya,INPUT_MOVE:za,INPUT_END:Aa,INPUT_CANCEL:Ba,STATE_POSSIBLE:eb,STATE_BEGAN:fb,STATE_CHANGED:gb,STATE_ENDED:hb,STATE_RECOGNIZED:ib,STATE_CANCELLED:jb,STATE_FAILED:kb,DIRECTION_NONE:Ca,DIRECTION_LEFT:Da,DIRECTION_RIGHT:Ea,DIRECTION_UP:Fa,DIRECTION_DOWN:Ga,DIRECTION_HORIZONTAL:Ha,DIRECTION_VERTICAL:Ia,DIRECTION_ALL:Ja,Manager:fa,Input:y,TouchAction:T,TouchInput:Q,MouseInput:M,PointerEventInput:N,TouchMouseInput:S,SingleTouchInput:O,Recognizer:V,AttrRecognizer:Z,Tap:da,Pan:$,Swipe:ca,Pinch:_,Rotate:ba,Press:aa,on:n,off:o,each:g,merge:i,extend:h,inherit:j,bindFn:k,prefixed:v}),typeof define==ka&&define.amd?define(function(){return ea}):"undefined"!=typeof module&&module.exports?module.exports=ea:a[c]=ea}(window,document,"Hammer");var Modal=function(a,b){this.options=b,this.$element=$(a).delegate('[data-dismiss="modal"]',"click.dismiss.modal",$.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};Modal.prototype={constructor:Modal,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var a=this,b=$.Event("show"),c=a.$element.find(".modal-scrollable");this.$element.trigger(b),this.isShown||b.isDefaultPrevented()||($("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var b=$.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(document.body),a.$element.show(),c.length&&!c.hasClass("scrollbar-content")&&c.tinyscrollbar(),b&&a.$element[0].offsetWidth,a.$element.addClass("in").attr("aria-hidden",!1).focus(),a.enforceFocus(),b?a.$element.one($.support.transition.end,function(){a.$element.trigger("shown")}):a.$element.trigger("shown")}))},hide:function(a){a&&a.preventDefault();a=$.Event("hide"),this.$element.trigger(a),this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,$("body").removeClass("modal-open"),this.escape(),$(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),$.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var a=this;$(document).on("focusin.modal",function(b){a.$element[0]===b.target||a.$element.has(b.target).length||a.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?$("body").on("keyup.dismiss.modal",function(b){27===b.which&&a.hide()}):this.isShown||$("body").off("keyup.dismiss.modal")},hideWithTransition:function(){var a=this,b=setTimeout(function(){a.$element.off($.support.transition.end),a.hideModal()},500);this.$element.one($.support.transition.end,function(){clearTimeout(b),a.hideModal()})},hideModal:function(a){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(a){var b=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var c=$.support.transition&&b;this.$backdrop=$('<div class="modal-backdrop '+b+'" />').appendTo(document.body),"static"!==this.options.backdrop&&this.$backdrop.click($.proxy(this.hide,this)),c&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),c?this.$backdrop.one($.support.transition.end,a):a()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one($.support.transition.end,$.proxy(this.removeBackdrop,this)):this.removeBackdrop()):a&&a()}},$.fn.modal=function(a){return this.each(function(){var b=$(this),c=b.data("modal"),d=$.extend({},$.fn.modal.defaults,b.data(),"object"==typeof a&&a);c||b.data("modal",c=new Modal(this,d)),"string"==typeof a?c[a]():d.show&&c.show()})},$.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},$.fn.modal.Constructor=Modal,$(function(){$("body").on("click.modal.data-api",'[data-toggle="modal"]',function(a){var b=$(this),c=b.attr("href"),d=$(b.attr("data-target")||c&&c.replace(/.*(?=#[^\s]+$)/,"")),e=d.data("modal")?"toggle":$.extend({remote:!/#/.test(c)&&c},d.data(),b.data());a.preventDefault(),d.modal(e).one("hide",function(){b.focus()})})});var bnet=bnet||{};bnet.utility=function(a,b,c,d,e){"use strict";a.isNumeric=function(a){var b=parseFloat(a);return!isNaN(b)&&isFinite(b)},a.objectContainsValue=function(a,b){if("object"==typeof a)for(var c in a)if(a[c]===b)return!0;return!1};var f=c.createElement("video"),g={};return g="canPlayType"in f?{webm:f.canPlayType("video/webm"),mp4:f.canPlayType("video/mp4")}:{webm:!1,mp4:!1},f=null,a.canPlayVideo=function(){return(g.webm||g.mp4)&&!b.navigator.userAgent.match(/iPhone|iPad|iPod/i)},a.debounce=function(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}},a.isIE8=function(){return Core.isIE()&&8===Core.getBrowser().version},a.isIE9=function(){return Core.isIE()&&9===Core.getBrowser().version},a}(bnet.utility||{},window,document,jQuery);var bnet=bnet||{};bnet.ScrollManager=function(a,b,c,d,e){var f={},g={},h=20,i=0,j=[];return bindEvents=function(){c(window).on("scroll",d.debounce(function(a){update()},100)),c(window).on("resize",d.debounce(function(a){update()},100))},update=function(a){mapSections(),updateActiveSection()},mapSections=function(){j=[],c(".Section").each(function(a){var b=c(this),d=b.offset(),e={id:b.attr("id"),offset:d.top};e.offset>=0?j.push(e):c(".header-bg").on("load",update)})},a.getActiveSection=function(){var a={},d=0,e={},f={},g=b.documentElement.scrollTop||b.body.scrollTop;if(0>g)return!1;i=g,c.each(j,function(b,c){g>c.offset-h?(e=a,
a=c,d=b):d+1===b&&(f=c)});var k={activeSection:a,previousSection:e,nextSection:f,scrollPosition:g};return k},updateActiveSection=function(){var b=a.getActiveSection();f.id!==b.activeSection.id&&(g=f,f=b.activeSection,c(window).trigger("ScrollManagerEnterSectionEvent",b),history&&history.replaceState&&g.id&&history.replaceState(null,null,"#"+f.id))},a.init=function(){c(window).trigger("ScrollManagerReadyEvent",{}),update(),bindEvents(),h=.5*c(window).height()},a}(bnet.ScrollManager||{},document,jQuery,bnet.utility),$(document).ready(function(){bnet.ScrollManager.init()}),function(a,b,c,d,e){"use strict";var f={build:function(){var a=c("[data-nav]"),b=c(".Navigation"),d=b.find(".Navigation-list--buy"),e=b.find(".Navigation-list--sections"),g=b.find(".Navigation-list--social"),h=b.find(".Navigation-compactWrap");a.each(function(){var a=c(this),b=a.attr("id"),d=a.data("nav"),f=c("<li/>",{addClass:"Navigation-item"}),g=c("<a/>",{addClass:"Navigation-link Navigation-link--sections Navigation-link--"+b,href:"#"+b,"data-analytics":"wow7-nav","data-analytics-placement":b}),h=c("<div/>",{addClass:"Navigation-label",text:d}),i=c("<div/>",{addClass:"Navigation-icon Navigation-icon--rune Navigation-icon--"+b});h.appendTo(g),i.appendTo(g),g.appendTo(f),f.appendTo(e)}),e.clone().appendTo(h),b.find(".Navigation-icon").mouseenter(function(){f.expandSidebar(this)}),b.find(".Navigation-list").mouseleave(function(){f.collapseSidebar()});var i=d.clone();i.appendTo(h),i.find("a").removeClass().addClass("Button Button--subtle Button--expanded");var j=g.clone();j.appendTo(h),j.removeClass().addClass("Social-items u-align-center"),j.find("li").removeClass().addClass("Social-item"),j.find("a").each(function(){var a=c(this).data("slug");c(this).removeClass(),c(this).addClass("Social-link"),c(this).addClass("Social-link--"+a)})},expandSidebar:function(a){c(".Navigation-full").addClass("Navigation-full--expanded"),c(a).closest(".Navigation-list").addClass("Navigation-list--expanded")},collapseSidebar:function(){c(".Navigation-full").removeClass("Navigation-full--expanded"),c(".Navigation-list").removeClass("Navigation-list--expanded")},bindEvents:function(){c(a).on("ScrollManagerEnterSectionEvent",f.update),c(".Navigation").on("click",".Navigation-link--sections",f.menuItemClick)},update:function(a,b){var d=b.activeSection.id;c(".Navigation-link").removeClass("Navigation-link--active"),c(".Navigation-link--"+d).addClass("Navigation-link--active")},menuItemClick:function(b){b.preventDefault();var d=c(this);c("html, body").animate({scrollTop:c(d.attr("href")).offset().top},{duration:500,complete:function(b){history&&history.replaceState?history.replaceState(null,null,d.attr("href")):a.location.hash=d.attr("href").replace("#","")}}),g.hideMenu()},init:function(){f.build(),f.bindEvents()}},g={bindEvents:function(){c(".Navigation-compactToggle").on("click",g.menuToggle),c(".Navigation-compactShield").on("click touchstart",g.hideMenu)},menuToggle:function(a){c(".Navigation-compact").toggleClass("Navigation-compact--menuOpen")},hideMenu:function(a){a&&a.preventDefault(),c(".Navigation-compact").removeClass("Navigation-compact--menuOpen")},init:function(){g.bindEvents()}};c(a).on("ScrollManagerReadyEvent",function(){f.init(),g.init()})}(window,document,jQuery,bnet.utility),function(a,b,c,d,e){"use strict";function f(){var c=a.innerWidth||b.documentElement.clientWidth||b.body.clientWidth,d={xs:768>c,sm:c>=768&&980>c,md:c>=980&&1200>c,lg:c>=1200};return{mobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test(navigator.userAgent),touch:"ontouchstart"in a||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,size:function(){for(var a=Object.keys(d),b=0;b<a.length;b++)if(d[a[b]])return a[b]}(),sizes:d,width:c}}function g(e,g,i){function j(a){for(var b=e.data("media.filters"),c=-1,d=0;d<b.length;d++)b[d].name===a.name&&(c=d);return 0>c?(b.push(a),0):1}function k(a,b){var d=0,e=Object.keys(b.values);return c.each(b.values,function(b,c){("featured"===c&&a.featured||c===a[b])&&d++}),d===e.length?!0:!1}function l(){var a=c.Deferred(),b=x.activeMedia;return b.$video?(b.$video.video().done(function(b){b.destroyPlayer(),a.resolve()}).fail(function(b){a.reject()}),b.$video.css({left:"-100%"})):a.resolve(),c(".mediaType-netEase").remove(),a.promise()}function m(){y||(y=1,c(b).on("keydown.media",function(a){if(/37|39|32|27/.test(a.which)&&a.preventDefault(),37==a.which)x.navigatePrev();else if(39==a.which)x.navigateNext();else if(32==a.which){var b=x.activeMedia;b.$video&&b.$video.video().done(function(a){1!==a.player.getPlayerState()?a.player.playVideo():a.player.pauseVideo()})}else 27==a.which&&x.closeModal()}))}function n(){c(b).off("keydown.media"),y=0}function o(){var a=x.activeMedia;c.each(g,function(b,c){c===a?this.$elem.addClass("active"):this.$elem.removeClass("active")})}function p(a,b){var c=b?"prependTo":"appendTo";a.visible||(x.visible++,a.visible=1,a.$elem[c](x.$grid))}function q(a){a.visible&&(x.visible--,a.visible=0,a.$elem.detach())}function r(a,b){c.each(a,function(a,c){p(c,b)})}function s(a){c.each(a,function(a,b){q(b)})}function t(){for(var a=(x.paginateIndex+1)*x.paginate,b=x.paginateIndex*x.paginate,c=x.results.length,d=[],e=b;(c>a?a:c)>e;e++)x.results[e]&&d.push(x.results[e]);d.length&&x.visible+d.length<=x.results.length&&(x.paginateIndex++,"replace"===x.paginateType&&s(x.medias),r(d)),x.trigger("media.paginate.next",x)}function u(){for(var a=(x.paginateIndex-1)*x.paginate-x.paginate,b=x.paginateIndex*x.paginate-x.paginate,c=0,d=[],e=b;e>(c>a?c:a);e--)x.results[e-1]&&d.push(x.results[e-1]);d.length&&x.visible+d.length<=x.results.length&&(x.paginateIndex--,"replace"===x.paginateType&&s(x.medias),r(d,!0)),x.trigger("media.paginate.prev",x)}function v(a,b){x.paginate?(x.paginateIndex=0,s(x.medias),t()):(s(b),r(a))}function w(){var a={$filter:x.templates.filter,$grid:x.templates.grid,$overlay:x.templates.overlay,$modal:function(){var a=x.templates.modal();return a.html([x.templates.content(),x.$overlay]),h.mobile&&a.toggleClass("mobile",!0),a},$content:function(){return x.$modal.find(".content.media")},medias:e.data("media.medias"),filters:e.data("media.filters"),results:[],paginate:function(){var a=f();return a.mobile?a.sizes.xs?4:a.sizes.sm||a.sizes.md?6:12:12},paginateIndex:0,visible:0,paginateNext:function(){return t},paginatePrev:function(){return u},trigger:function(){return function(){e.trigger.apply(e,arguments)}},on:function(){return function(){e.on.apply(e,arguments)}},off:function(){return function(){e.off.apply(e,arguments)}}};i&&i.templates&&c.extend(x.templates,i.templates),i&&i.init&&c.extend(a,i.init),c.each(a,function(a,b){x[a]="function"==typeof b?b():b}),g&&c.each(g,function(a,b){x.addMedia(b),i&&i.filters||x.addFilter({name:b.type,values:{type:b.type}})}),i&&i.filters&&c.each(i.filters,function(a,b){x.addFilter(b)}),x.filterMedia(x.filters[0]),e.html([x.$filter,x.$grid,x.$modal]),x.trigger("media.ready",x)}var x=this;e.data("media.medias",[]),e.data("media.filters",[]);var y=0;this.templates={filter:function(){return c("<ul/>",{addClass:"SectionNavigation"})},filterItem:function(a){return c("<li/>",{html:a.name,"data-analytics":"wow7-media-filters","data-analytics-placement":a.analyticsName,data:{filter:a},on:{click:function(b){b.preventDefault(),x.filterMedia(a)}}})},mediaItem:function(b){function e(){var a={};if(!b.locked)if(b.type==d.types.audio||b.type==d.types.video)if(b.youTubeID){var c="";b.youTubePlaylistID&&(a["data-youtube-playlist-id"]=b.youTubePlaylistID,c="&amp;list="+b.youTubePlaylistID),a.href="https://www.youtube.com/watch?v="+b.youTubeID+c,a["data-youtube-id"]=b.youTubeID,b.type==d.types.audio?(a["data-analytics"]="wow7-audio-youtube",a["data-analytics-placement"]="Media - Audio"):(a["data-analytics"]="wow7-video-youtube",a["data-analytics-placement"]="Media - Video")}else b.netEaseID&&(a["data-netease-id"]=b.netEaseID,b.netEaseCoverpic&&(a["data-netease-coverpic"]=b.netEaseCoverpic),b.netEaseTopicID&&(a["data-netease-topic-id"]=b.netEaseTopicID),b.netEaseSID&&(a["data-netease-sid"]=b.netEaseSID),b.type==d.types.audio?(a["data-analytics"]="wow7-audio-netease",a["data-analytics-placement"]="Media - Audio"):(a["data-analytics"]="wow7-video-netease",a["data-analytics-placement"]="Media - Video"));else a["data-analytics"]="wow7-image",a["data-analytics-asset"]=b.img,b.type==d.types.artwork?a["data-analytics-placement"]="Media - Artwork":b.type==d.types.comic?a["data-analytics-placement"]="Media - Comic":b.type==d.types.screenshot?a["data-analytics-placement"]="Media - Screenshot":b.type==d.types.wallpaper&&(a["data-analytics-placement"]="Media - Wallpaper");return a}function g(){var a="MediaObject MediaObject--"+b.typeClass;return b.locked&&(a+=" MediaObject--locked"),a}function h(){var a=c("<a/>",{addClass:"MediaObject-content",attr:e()}),d=c("<span/>",{addClass:b.locked?"FrameSmaller FrameSmaller--inactive":"FrameSmaller",html:[c("<span/>",{addClass:"FrameSmaller-overlay"}),c("<span/>",{addClass:"FrameSmaller-side FrameSmaller-side--top"}),c("<span/>",{addClass:"FrameSmaller-side FrameSmaller-side--right"}),c("<span/>",{addClass:"FrameSmaller-side FrameSmaller-side--bottom"}),c("<span/>",{addClass:"FrameSmaller-side FrameSmaller-side--left"}),c("<span/>",{addClass:"FrameSmaller-corner FrameSmaller-corner--topLeft"}),c("<span/>",{addClass:"FrameSmaller-corner FrameSmaller-corner--topRight"}),c("<span/>",{addClass:"FrameSmaller-corner FrameSmaller-corner--bottomRight"}),c("<span/>",{addClass:"FrameSmaller-corner FrameSmaller-corner--bottomLeft"}),c("<span/>",{addClass:"MediaObject-wrap",css:{backgroundImage:b.thumb?"url("+b.thumb+")":""},html:[c("<span/>",{addClass:"MediaObject-icon"}),c("<span/>",{addClass:"MediaObject-label",html:b.type})]})]});return b.title&&c("<span/>",{addClass:"MediaObject-title",text:b.title}).appendTo(d),a.prepend(d),a}var i=f();return c("<div/>",{addClass:g(),html:h(),click:function(c){b.locked?c.preventDefault():(!i.mobile||b.type!==d.types.video&&b.type!==d.types.audio)&&(i.mobile&&b.type===d.types.comic?(c.preventDefault(),a.open(b.modalOverlay.downloadFileUrl,"_blank")):i.mobile&&b.type!=d.types.wallpaper&&b.type!=d.types.video&&b.type!=d.types.audio?(c.preventDefault(),a.open(b.img,"_blank")):(c.preventDefault(),x.openModal(b)))}})},grid:function(){return c("<div/>",{addClass:"Grid"})},modal:function(){return c("<div/>",{addClass:"media-modal",html:[x.$content,x.$overlay]})},content:function(){return c("<div/>",{addClass:"inner",html:[c("<div/>",{addClass:"content bg",html:c("<span/>",{addClass:"Frame Frame--inactive",html:[c("<span/>",{addClass:"Frame-overlay"}),c("<span/>",{addClass:"Frame-side Frame-side--top"}),c("<span/>",{addClass:"Frame-side Frame-side--right"}),c("<span/>",{addClass:"Frame-side Frame-side--bottom"}),c("<span/>",{addClass:"Frame-side Frame-side--left"}),c("<span/>",{addClass:"Frame-corner Frame-corner--topLeft"}),c("<span/>",{addClass:"Frame-corner Frame-corner--topRight"}),c("<span/>",{addClass:"Frame-corner Frame-corner--bottomRight"}),c("<span/>",{addClass:"Frame-corner Frame-corner--bottomLeft"}),c("<div/>",{addClass:"content media",html:[c("<span/>",{addClass:"media-btn left",click:function(a){a.preventDefault(),x.navigatePrev()}}),c("<span/>",{addClass:"media-btn right",click:function(a){a.preventDefault(),x.navigateNext()}})]})]})}),c("<span/>",{addClass:"media-btn close",text:"×",click:function(a){a.preventDefault(),x.closeModal()}})]})},overlay:function(){return c("<div/>",{addClass:"overlay",click:function(a){a.preventDefault(),x.closeModal()}})},downloads:function(a){function b(){var b=[];return c.each(a.downloads,function(a,e){b.push(c("<a/>",{"class":"Wallpaper-icon",attr:{href:e.url,"data-analytics":"wow7-download","data-analytics-placement":"Media - Wallpaper","data-analytics-asset":e.url,target:"_blank"},html:[c("<div/>",{addClass:["icon",d[a],"Wallpaper-icon-graphic","Wallpaper-icon-graphic--"+e.name.toLowerCase()].join(" ")}),c("<div/>",{addClass:"Wallpaper-icon-meta",html:[c("<span/>",{addClass:"name",html:e.name}),c("<span/>",{addClass:"dimensions",html:e.dimensions})]})]}))}),b}var d={0:"wide",1:"standard",2:"mobile",3:"tablet",4:"facebook",5:"twitter"};return c("<div/>",{addClass:"content downloads",html:b()})},modalOverlay:function(a){function b(){var b=[];if(b.push(c("<h3/>",{html:a.title})),a.modalOverlay){if(a.modalOverlay.description&&b.push(c("<p/>",{addClass:"Modal-MediaDescription",html:a.modalOverlay.description})),a.modalOverlay.downloadFileUrl&&a.modalOverlay.downloadLabel){var e="";a.type==d.types.audio?e="Media - Audio - MP3":a.type==d.types.comic&&(e="Media - Comic"),b.push(c("<p/>",{addClass:"Modal-MediaButtonContainer--downloadFile",html:c("<a/>",{addClass:"Button Button--subtle",href:a.modalOverlay.downloadFileUrl,"data-analytics":"wow7-download","data-analytics-placement":e,"data-analytics-asset":a.modalOverlay.downloadFileUrl,html:a.modalOverlay.downloadLabel})})),a.modalOverlay.downloadFileInfo&&b.push(c("<p/>",{addClass:"ButtonFootnote",html:a.modalOverlay.downloadFileInfo}))}if(a.modalOverlay.storyFileUrl&&a.modalOverlay.storyLabel){var e="";a.type==d.types.audio&&(e="Media - Audio - PDF"),b.push(c("<p/>",{addClass:"Modal-MediaButtonContainer--downloadStory",html:c("<a/>",{addClass:"Button Button--subtle",href:a.modalOverlay.storyFileUrl,"data-analytics":"wow7-download","data-analytics-placement":e,"data-analytics-asset":a.modalOverlay.storyFileUrl,html:a.modalOverlay.storyLabel})})),a.modalOverlay.storyFileInfo&&b.push(c("<p/>",{addClass:"ButtonFootnote",html:a.modalOverlay.storyFileInfo}))}}return b}return c("<div/>",{addClass:"modal-overlay",html:b()})}},this.addTemplate=function(a){c.extend(x.templates,a)},this.addFilter=function(a){j(a)||(a.$elem=x.templates.filterItem(a),a.$elem.data({filter:a}).appendTo(x.$filter))},this.addMedia=function(a){if(!a.$elem){var b=e.data("media.medias");a.$elem=x.templates.mediaItem(a),a.downloads?a.$downloads=x.templates.downloads(a):a.modalOverlay&&(a.$modalOverlay=x.templates.modalOverlay(a)),b.push(a),a.$elem.data({media:a})}},this.navigateTo=function(a){var b=x.activeMedia;l().always(function(){x.openModal(c(b.$elem.parent().children(":not(.MediaObject--locked)").get(a)).data("media"))})},this.navigatePrev=function(){var a=x.activeMedia.$elem.index(".MediaObject:not(.MediaObject--locked)");x.navigateTo(a-1),x.trigger("media.navigate.prev",x)},this.navigateNext=function(){var a=x.activeMedia.$elem.index(".MediaObject:not(.MediaObject--locked)"),b=x.activeMedia.$elem.siblings(":not(.MediaObject--locked)").length;x.navigateTo(a+1>b?0:a+1),x.trigger("media.navigate.next",x)};var z=0,A=0;this.openModal=function(b){if(x.activeMedia&&(x.activeMedia.type!==b.type&&e.toggleClass(x.activeMedia.typeClass,!1),x.activeMedia.$downloads&&x.activeMedia.$downloads.detach(),x.activeMedia.$modalOverlay&&x.activeMedia.$modalOverlay.detach()),e.toggleClass("open",!0),e.toggleClass(b.typeClass,!0),A||(A=c(a).scrollTop()),x.activeMedia=b,m(),o(),z||x.trigger("media.modal.open",x),z=1,b.type===d.types.video||b.type===d.types.audio)if(x.$content.css({backgroundImage:"none"}),b.youTubeID){if(b.$video)b.$video.video().done(function(a){a.player||a.createPlayer()});else{var f=c("<div/>",{addClass:"mediaType-"+b.typeClass,attr:{"data-video":b.youTubeID,"data-playlist":b.youTubePlaylistID}});f.on("player.ready",function(a,b){b.target.playVideo()}).video(),b.$video=f}b.$video.parent()[0]||b.$video.prependTo(x.$content),b.$video.css({left:""})}else b.netEaseID&&x.$content.append('<div class="mediaType-video mediaType-netEase"><object class="mediaType-netEase-video" id="FPlayer" data="http://v.163.com/swf/video/NetEaseFlvPlayerV3.swf" type="application/x-shockwave-flash" width="924" height="520"><param value="true" name="allowFullScreen" /><param value="always" name="allowscriptaccess" /><param value="http://v.163.com/swf/video/NetEaseFlvPlayerV3.swf" allownetworking="all" name="movie" /><param name="wmode" value="opaque" /><param value="topicid='+b.netEaseTopicID+"&amp;vid="+b.netEaseID+"&amp;sid="+b.netEaseSID+"&amp;threadListPath=&amp;coverpic="+b.netEaseCoverpic+'&amp;autoplay=true" name="flashvars" /></object></div>');else x.$content.css({backgroundImage:b.img?"url("+b.img+")":""});b.$downloads&&b.$downloads.insertAfter(x.$content.parent()),b.$modalOverlay&&b.$modalOverlay.insertAfter(x.$content.parent())},this.closeModal=function(){l().always(function(){e.toggleClass("open",!1),x.$content.css({backgroundImage:"none"}),A&&(c("body, html").toggleClass("fixed",!1),c("html").css({marginTop:""}),c(a).scrollTop(A),A=0)}),x.trigger("media.modal.close",x),n(),z=0},this.filterMedia=function(a){var b=[],d=[];x.activeFilter&&x.activeFilter.$elem.toggleClass("active",!1),a.$elem.toggleClass("active",!0),x.activeFilter=a,c.each(x.medias,function(c,e){k(e,a)?b.push(e):d.push(e)}),x.results=b,x.trigger("media.filter",x),v(b,d)},w()}var h=f(),i=[];c(".MediaObject").each(function(){var a={},b=c(this);a.type=d.types[b.data("media-type")],a.typeClass=b.data("media-type"),a.thumb=b.data("media-thumb-url"),a.img=b.data("media-url"),b.data("media-title")&&(a.title=b.data("media-title")),b.data("media-youtube-id")&&(a.youTubeID=b.data("media-youtube-id")),b.data("media-youtube-playlist-id")&&(a.youTubePlaylistID=b.data("media-youtube-playlist-id")),b.data("media-netease-id")&&(a.netEaseID=b.data("media-netease-id")),b.data("media-netease-coverpic")&&(a.netEaseCoverpic=b.data("media-netease-coverpic")),b.data("media-netease-topic-id")&&(a.netEaseTopicID=b.data("media-netease-topic-id")),b.data("media-netease-sid")&&(a.netEaseSID=b.data("media-netease-sid")),b.data("media-featured")&&(a.featured=!0),b.hasClass("MediaObject--locked")&&(a.locked=!0),a.type==d.types.audio||a.type==d.types.comic?(a.modalOverlay={},b.data("media-description")&&(a.modalOverlay.description=b.data("media-description")),b.data("media-download-file-url")&&(a.modalOverlay.downloadFileUrl=b.data("media-download-file-url")),b.data("media-download-label")&&(a.modalOverlay.downloadLabel=b.data("media-download-label")),b.data("media-download-file-info")&&(a.modalOverlay.downloadFileInfo=b.data("media-download-file-info")),b.data("media-story-file-url")&&(a.modalOverlay.storyFileUrl=b.data("media-story-file-url")),b.data("media-story-label")&&(a.modalOverlay.storyLabel=b.data("media-story-label")),b.data("media-story-file-info")&&(a.modalOverlay.storyFileInfo=b.data("media-story-file-info"))):a.type==d.types.wallpaper&&(a.downloads=[],b.data("media-wide-url")&&a.downloads.push({name:d.sizes.wide,dimensions:"2560 x 1440",url:b.data("media-wide-url")}),b.data("media-standard-url")&&a.downloads.push({name:d.sizes.standard,dimensions:"2048 x 1536",url:b.data("media-standard-url")}),b.data("media-mobile-url")&&a.downloads.push({name:d.sizes.mobile,dimensions:"1080 x 1920",url:b.data("media-mobile-url")}),b.data("media-tablet-url")&&a.downloads.push({name:d.sizes.tablet,dimensions:"2048 x 2048",url:b.data("media-tablet-url")}),b.data("media-facebook-url")&&a.downloads.push({name:d.sizes.facebook,dimensions:"851 x 315",url:b.data("media-facebook-url")}),b.data("media-twitter-url")&&a.downloads.push({name:d.sizes.twitter,dimensions:"1500 x 500",url:b.data("media-twitter-url")})),i.push(a)});var j=[{name:d.filters.featured,analyticsName:"Featured",values:{type:"featured"}},{name:d.filters.audio,analyticsName:"Audio",values:{type:d.types.audio}},{name:d.filters.videos,analyticsName:"Videos",values:{type:d.types.video}},{name:d.filters.comics,analyticsName:"Comics",values:{type:d.types.comic}},{name:d.filters.artwork,analyticsName:"Artwork",values:{type:d.types.artwork}},{name:d.filters.screenshots,analyticsName:"Screenshots",values:{type:d.types.screenshot}},{name:d.filters.wallpapers,analyticsName:"Wallpapers",values:{type:d.types.wallpaper}}];c.fn.extend({media:function(a,b){var c=this.data("media");return c||this.data({media:c=new g(this,a,b)}),c}});var k=c("[data-media]"),l=c("[data-media-load-more]");k.on({"media.paginate.next":function(a,b){b.visible>=b.results.length?l.hide():l.show()}}),k.one("media.ready",function(a,b){l.click(function(a){a.preventDefault(),b.paginateNext()})}),k.media(i,{filters:h.mobile&&(h.sizes.xs||h.sizes.sm)?j.splice(1,j.length-1):j})}(window,document,jQuery,mediaStrings),function(a,b,c,d,e,f,g,h){"use strict";var i=c("#modal"),j=function(){return e.canPlayVideo()};c(".VideoThumbnail-link").on("click",function(a){if(j()){a.preventDefault();var b=c(a.currentTarget);if(b.data("youtube-id")){var d="";b.data("youtube-playlist-id")&&(d="list="+b.data("youtube-playlist-id")+"&amp;"),c('<div class="sixteen-nine"><iframe class="sixteen-nine__media" src="//www.youtube.com/embed/'+b.data("youtube-id")+"?"+d+'autoplay=1&amp;wmode=opaque" frameborder="0" allowfullscreen=""></iframe></div>').appendTo(i.find(".modal__media")),i.find(".modal-content").addClass("video"),i.modal("show")}else b.data("netease-id")&&(c('<div class="sixteen-nine"><object class="sixteen-nine__media" id="FPlayer" data="http://v.163.com/swf/video/NetEaseFlvPlayerV3.swf" type="application/x-shockwave-flash" width="924" height="520"><param value="true" name="allowFullScreen" /><param value="always" name="allowscriptaccess" /><param value="http://v.163.com/swf/video/NetEaseFlvPlayerV3.swf" allownetworking="all" name="movie" /><param name="wmode" value="opaque" /><param value="topicid='+b.data("netease-topic-id")+"&amp;vid="+b.data("netease-id")+"&amp;sid="+b.data("netease-sid")+"&amp;threadListPath=&amp;coverpic="+b.data("netease-coverpic")+'&amp;autoplay=true" name="flashvars" /></object></div>').appendTo(i.find(".modal__media")),i.find(".modal-content").addClass("video"),i.modal("show"))}}),c(".ThumbnailList-link.Frame").on("click",function(a){c(".no-gallery").parent().addClass("lightbox-map")}),c(".ThumbnailList-link.FrameSmaller").on("click",function(a){c("div#lightbox-container.lightbox-map").removeClass("lightbox-map")});var k=function(){i.find(".modal-content").removeClass("video"),i.find(".modal__media").empty()};i.on("hide",function(){k()}),i.on("show",function(){}),c("body").on("click",".modal-backdrop, .modal .close, .modal",function(a){i.modal("hide")})}(window,document,jQuery,bnet,bnet.utility||{},bnet.mediaQueryManager||{},bnet.sc2.lotv||{}),function(a,b,c,d,e){"use strict";c(".ThumbnailList").each(function(){var a=c(this),b=a.find("a"),d=[];b.each(function(){d.push({src:c(this).attr("href")})}),b.each(function(a){c(this).on("click",function(b){b.preventDefault(),Lightbox.loadImage(d,!1,a)})})})}(window,document,jQuery,bnet.utility);var bnet=bnet||{};!function(a,b,c,d,e,f,g,h,i){"use strict";var j={videoElement:{},videoExists:!1,bindEvents:function(){h(f).on("ScrollManagerEnterSectionEvent",j.sectionChange)},init:function(){b.canPlayVideo()&&j.bindEvents()},buildVideo:function(){var a=h("#home").find(".VideoBackground-container").addClass("is-loading"),b=h("<video/>").addClass("VideoBackground-video").attr("loop","loop").one("playing",function(){a.removeClass("is-loading")}),c=b[0],d=c.canPlayType('video/webm; codecs="vp8, vorbis"');if(d)b.attr("src",Core.cdnUrl+"/wow/legion-6a153ad2/videos/header-illidan.webm"),h("#home").addClass("is-webm");else{b.attr("src",Core.cdnUrl+"/wow/legion-6a153ad2/videos/header-illidan.mp4"),h("#home").addClass("is-mp4");var e=h("#home").find(".VideoBackground-fallback");e.attr("src",e.data("mp4"))}a.append(b),j.videoElement=c,j.videoExists=!0},sectionChange:function(a,c){if(j.videoExists===!1)switch(c.activeSection.id){case"home":case"class":j.buildVideo()}"home"===c.activeSection.id?b.canPlayVideo()&&j.play():j.pause()},pause:function(){j.videoExists&&j.videoElement.pause()},play:function(){j.videoExists&&j.videoElement.play()}},k={videoElement:{},videoExists:!1,bindEvents:function(){h(f).on("ScrollManagerEnterSectionEvent",k.sectionChange)},init:function(){b.canPlayVideo()&&k.bindEvents()},buildVideo:function(){var a=h("#class").find(".VideoBackground-container").addClass("is-loading"),b=h("<source/>").attr("src",Core.cdnUrl+"/wow/legion-6a153ad2/videos/demon-hunters.mp4").attr("type","video/mp4"),c=h("<source/>").attr("src",Core.cdnUrl+"/wow/legion-6a153ad2/videos/demon-hunters.webm").attr("type","video/webm"),d=h("<video/>").addClass("VideoBackground-video").attr("loop","loop").attr("poster",Core.cdnUrl+"/wow/legion-6a153ad2/images/demon-hunters-still.jpg").append(c).append(b).one("playing",function(){a.removeClass("is-loading")}),e=a.find(".VideoBackground-fallback");e?e.after(d):a.prepend(d),k.videoElement=d[0],k.videoExists=!0},sectionChange:function(a,c){if(k.videoExists===!1)switch(c.activeSection.id){case"class":case"home":case"artifacts":k.buildVideo()}"class"===c.activeSection.id?b.canPlayVideo()&&k.play():k.pause()},pause:function(){k.videoExists&&k.videoElement.pause()},play:function(){k.videoExists&&k.videoElement.play()}},l={videoElement:{},videoExists:!1,bindEvents:function(){h(f).on("ScrollManagerEnterSectionEvent",l.sectionChange)},init:function(){b.canPlayVideo()&&l.bindEvents()},buildVideo:function(){var a=h("#world").find(".VideoBackground-container").addClass("is-loading"),b=h("<source/>").attr("src",Core.cdnUrl+"/wow/legion-6a153ad2/videos/world-dissolve.mp4").attr("type","video/mp4"),c=h("<source/>").attr("src",Core.cdnUrl+"/wow/legion-6a153ad2/videos/world-dissolve.webm").attr("type","video/webm"),d=h("<video/>").addClass("VideoBackground-video").attr("loop","loop").attr("poster",Core.cdnUrl+"/wow/legion-6a153ad2/images/world-dissolve-still.jpg").append(c).append(b).one("playing",function(){a.removeClass("is-loading")});a.append(d),l.videoElement=d[0],l.videoExists=!0},sectionChange:function(a,c){if(l.videoExists===!1)switch(c.activeSection.id){case"world":case"artifacts":case"characters":l.buildVideo()}"world"===c.activeSection.id?b.canPlayVideo()&&l.play():l.pause()},pause:function(){l.videoExists&&l.videoElement.pause()},play:function(){l.videoExists&&l.videoElement.play()}};h(f).on("ScrollManagerReadyEvent",j.init),h(f).on("ScrollManagerReadyEvent",k.init),h(f).on("ScrollManagerReadyEvent",l.init)}(bnet,bnet.utility||{},bnet.mediaQueryManager||{},bnet.ScrollManager||{},bnet.sc2.lotv||{},window,document,jQuery);var bnet=bnet||{};!function(a,b,c,d,e,f,g,h,i){"use strict";function j(a,b){this.sectionID=a,this.adjacentSectionIDs=b,this.init()}h(".PaginatorByIcon").each(function(){function a(a){var c=b.find(".PaginatorByIcon-icon--selected"),e=d.children(),f=e.index(c),g=f+a,h=(g+e.length)%e.length;e.eq(h).click()}var b=h(this),c=!0,d=b.find(".PaginatorByIcon-icons"),e=new Hammer(this);b.find(".PaginatorByIcon-prev").click(function(b){a(-1)}).mousedown(function(a){a.preventDefault()}),b.find(".PaginatorByIcon-next").click(function(b){a(1)}).mousedown(function(a){a.preventDefault()}),e.on("swipe",function(b){a(b.velocityX>0?1:-1)}),b.find(".PaginatorByIcon-contentItem").each(b.hasClass("PaginatorByIcon--simple")?function(){var a=h(this),e=h("<li/>",{addClass:"PaginatorByIcon-icon",click:function(){if(0==h(this).hasClass("PaginatorByIcon-icon--selected")){var c=b.find(".PaginatorByIcon-icon--selected"),e=d.children(),f=e.index(c);b.removeClass("PaginatorByIcon--active"+f),d.find(".PaginatorByIcon-icon--selected").removeClass("PaginatorByIcon-icon--selected"),h(this).addClass("PaginatorByIcon-icon--selected"),b.find(".PaginatorByIcon-contentItem--selected").removeClass("PaginatorByIcon-contentItem--selected"),a.addClass("PaginatorByIcon-contentItem--selected"),h(this).parents("#artifacts").length>0?k.switchVideo():h(this).parents("#characters").length>0&&l.switchVideo(),c=b.find(".PaginatorByIcon-icon--selected"),f=e.index(c),b.addClass("PaginatorByIcon--active"+f)}}}).appendTo(d);c&&(c=!1,a.addClass("PaginatorByIcon-contentItem--selected"),e.addClass("PaginatorByIcon-icon--selected"),b.addClass("PaginatorByIcon--active0"))}:function(){var a=h(this),e=h("<li/>",{addClass:"PaginatorByIcon-icon FrameSmaller FrameSmaller--inline","data-analytics":"wow7-"+a.data("item-type"),"data-analytics-placement":a.data("slug"),html:[h("<span/>",{addClass:"FrameSmaller-overlay"}),h("<span/>",{addClass:"FrameSmaller-side FrameSmaller-side--top"}),h("<span/>",{addClass:"FrameSmaller-side FrameSmaller-side--right"}),h("<span/>",{addClass:"FrameSmaller-side FrameSmaller-side--bottom"}),h("<span/>",{addClass:"FrameSmaller-side FrameSmaller-side--left"}),h("<span/>",{addClass:"FrameSmaller-corner FrameSmaller-corner--topLeft"}),h("<span/>",{addClass:"FrameSmaller-corner FrameSmaller-corner--topRight"}),h("<span/>",{addClass:"FrameSmaller-corner FrameSmaller-corner--bottomRight"}),h("<span/>",{addClass:"FrameSmaller-corner FrameSmaller-corner--bottomLeft"}),h("<img/>",{src:a.data("thumbnail-url")})],click:function(){if(0==h(this).hasClass("PaginatorByIcon-icon--selected")){var c=b.find(".PaginatorByIcon-icon--selected"),e=d.children(),f=e.index(c);b.removeClass("PaginatorByIcon--active"+f),d.find(".PaginatorByIcon-icon--selected").removeClass("PaginatorByIcon-icon--selected"),h(this).addClass("PaginatorByIcon-icon--selected"),b.find(".PaginatorByIcon-contentItem--selected").removeClass("PaginatorByIcon-contentItem--selected"),a.addClass("PaginatorByIcon-contentItem--selected"),h(this).parents("#artifacts").length>0?k.switchVideo():h(this).parents("#characters").length>0&&l.switchVideo(),c=b.find(".PaginatorByIcon-icon--selected"),f=e.index(c),b.addClass("PaginatorByIcon--active"+f)}}}).appendTo(d);c&&(c=!1,a.addClass("PaginatorByIcon-contentItem--selected"),e.addClass("PaginatorByIcon-icon--selected"))})}),j.prototype={bindEvents:function(){var a=this;h(f).on("ScrollManagerEnterSectionEvent",function(){a.sectionChange.apply(a,arguments)})},init:function(){this.videoElement={},this.videoExists=!1,this.$section=h("#"+this.sectionID),this.$container=this.$section.find(".VideoBackground-container"),this.buildBackground(),b.canPlayVideo()&&this.bindEvents()},buildBackground:function(){var a=this,b=a.$section.find(".PaginatorByIcon-contentItem--selected"),c=b.data("background-img-url"),d=h("<img/>").addClass("VideoBackground-fallback").attr("src",c);a.$container.append(d)},buildVideo:function(){var a=this,b=a.$section.find(".PaginatorByIcon-contentItem--selected"),c=b.data("mp4-url"),d=b.data("webm-url"),e=b.data("background-img-url");a.$container.addClass("is-loading");var f=h("<source/>").attr("src",c).attr("type","video/mp4"),g=h("<source/>").attr("src",d).attr("type","video/webm"),i=h("<video/>").addClass("VideoBackground-video").attr("loop","loop").attr("poster",e).append(g).append(f).one("playing",function(){a.$container.removeClass("is-loading")});a.$container.append(i),a.videoElement=i[0],a.videoExists=!0},switchVideo:function(){this.$container.empty(),this.buildBackground(),b.canPlayVideo()&&(this.buildVideo(),this.videoElement.play())},sectionChange:function(a,c){if(this.videoExists===!1)if(c.activeSection.id===this.sectionID)this.buildVideo();else for(var d=0;d<this.adjacentSectionIDs.length;d++)if(c.activeSection.id===this.adjacentSectionIDs[d]){this.buildVideo();break}c.activeSection.id===this.sectionID?b.canPlayVideo()&&this.play():this.pause()},pause:function(){this.videoExists&&this.videoElement.pause()},play:function(){this.videoExists&&this.videoElement.play()}};var k=new j("artifacts",["class","world"]),l=new j("characters",["world","media"])}(bnet,bnet.utility||{},bnet.mediaQueryManager||{},bnet.ScrollManager||{},bnet.sc2.lotv||{},window,document,jQuery);